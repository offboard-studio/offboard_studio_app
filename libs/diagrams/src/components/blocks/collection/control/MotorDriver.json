{"editor":{"id":"f8a69a88-b3be-4c9e-9302-9bc087a0f3cc","locked":false,"offsetX":4,"offsetY":1,"zoom":100,"gridSize":0,"layers":[{"id":"c2b140ae-39d8-4592-a48d-6446c07db2bb","type":"diagram-links","isSvg":true,"transformed":true,"models":{"d32333c3-a3aa-4602-94b0-7c55ddb46fd6":{"id":"d32333c3-a3aa-4602-94b0-7c55ddb46fd6","type":"default","selected":false,"source":"80370198-435b-48a2-82a8-6220e726673a","sourcePort":"6e1081fc-2a92-4a7c-b538-6a64f8b02c6b","target":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","targetPort":"b7dff968-fd84-4044-a686-580623f7754b","points":[{"id":"648c6ece-ac4a-43a0-97e5-e11706256731","type":"point","x":436.5,"y":636.5},{"id":"5aa76858-527d-4d19-86bc-6baa02b6ba79","type":"point","x":503.5,"y":620.6666870117188}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"249aa59c-adfb-43b8-94d5-5df82cb5a53d":{"id":"249aa59c-adfb-43b8-94d5-5df82cb5a53d","type":"default","selected":false,"source":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","sourcePort":"4d7f8f1e-4c0c-4d54-b02b-19b4fe490d7b","target":"4e18ed81-705e-4c62-88cb-76bd89ef35e5","targetPort":"a9ddf6e4-469a-4e2f-863b-7ce479d5d95d","points":[{"id":"ede60c72-03c4-41f9-af74-70f051ca3c83","type":"point","x":1340.1500244140625,"y":529},{"id":"78944516-59c2-4d77-98ac-8761467ed699","type":"point","x":1387.5,"y":484.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"4e23f350-0e4d-45a2-8ab9-13ce2835d649":{"id":"4e23f350-0e4d-45a2-8ab9-13ce2835d649","type":"default","selected":false,"source":"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f","sourcePort":"53621ee8-cc92-4243-8634-6fe1c9e6a092","target":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","targetPort":"69112978-a703-4aae-9beb-cb102f41108e","points":[{"id":"6aa9ff39-9ef0-44ec-b98b-519c161ca34f","type":"point","x":920,"y":138.5},{"id":"da915943-84e2-4bee-8926-dea83ddc342e","type":"point","x":921.816650390625,"y":254}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"5095e921-9e59-427b-994f-469ee417d44f":{"id":"5095e921-9e59-427b-994f-469ee417d44f","type":"default","selected":false,"source":"2719251a-90f6-499b-af92-2421135172c9","sourcePort":"831b299a-5ef2-4f80-8d02-308f0895c574","target":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","targetPort":"2a97ff1c-9697-4fd9-83dc-0e53d273ebcf","points":[{"id":"45723348-dd9a-4786-9425-c6ec4752ad3d","type":"point","x":435.5,"y":418.5},{"id":"9c0445c9-5eb2-427c-a746-8a945e7ede69","type":"point","x":503.5,"y":437.33331298828125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"5a5c1e3f-60f5-45ff-a056-0fcb7d7c1b00","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"2719251a-90f6-499b-af92-2421135172c9":{"id":"2719251a-90f6-499b-af92-2421135172c9","type":"basic.input","selected":false,"x":342,"y":392,"ports":[{"id":"831b299a-5ef2-4f80-8d02-308f0895c574","type":"port.output","x":428,"y":411,"name":"input-out","alignment":"right","parentNode":"2719251a-90f6-499b-af92-2421135172c9","links":["5095e921-9e59-427b-994f-469ee417d44f"],"in":false,"label":"Inp","hideLabel":true}],"data":{"name":"Inp"}},"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f":{"id":"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f","type":"basic.constant","selected":true,"x":858,"y":22,"ports":[{"id":"53621ee8-cc92-4243-8634-6fe1c9e6a092","type":"port.output","x":912.5,"y":131,"name":"constant-out","alignment":"bottom","parentNode":"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f","links":["4e23f350-0e4d-45a2-8ab9-13ce2835d649"],"in":false,"label":"ROSTopic","hideLabel":true}],"data":{"name":"ROSTopic","value":"/robot/cmd_vel","local":true}},"4e18ed81-705e-4c62-88cb-76bd89ef35e5":{"id":"4e18ed81-705e-4c62-88cb-76bd89ef35e5","type":"basic.output","selected":false,"x":1379,"y":458,"ports":[{"id":"a9ddf6e4-469a-4e2f-863b-7ce479d5d95d","type":"port.input","x":1380,"y":477,"name":"output-in","alignment":"left","parentNode":"4e18ed81-705e-4c62-88cb-76bd89ef35e5","links":["249aa59c-adfb-43b8-94d5-5df82cb5a53d"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"80370198-435b-48a2-82a8-6220e726673a":{"id":"80370198-435b-48a2-82a8-6220e726673a","type":"basic.input","selected":false,"x":343,"y":610,"ports":[{"id":"6e1081fc-2a92-4a7c-b538-6a64f8b02c6b","type":"port.output","x":429,"y":629,"name":"input-out","alignment":"right","parentNode":"80370198-435b-48a2-82a8-6220e726673a","links":["d32333c3-a3aa-4602-94b0-7c55ddb46fd6"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"37ddd59f-4872-4b0d-a738-80cfadea5b0e":{"id":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","type":"basic.code","selected":false,"x":495,"y":176,"ports":[{"id":"2a97ff1c-9697-4fd9-83dc-0e53d273ebcf","type":"port.input","x":496,"y":429.83331298828125,"name":"Inp","alignment":"left","parentNode":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","links":["5095e921-9e59-427b-994f-469ee417d44f"],"in":true,"label":"Inp","hideLabel":false},{"id":"b7dff968-fd84-4044-a686-580623f7754b","type":"port.input","x":496,"y":613.1666870117188,"name":"Enable","alignment":"left","parentNode":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","links":["d32333c3-a3aa-4602-94b0-7c55ddb46fd6"],"in":true,"label":"Enable","hideLabel":false},{"id":"4d7f8f1e-4c0c-4d54-b02b-19b4fe490d7b","type":"port.output","x":1332.6500244140625,"y":521.5,"name":"Out","alignment":"right","parentNode":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","links":["249aa59c-adfb-43b8-94d5-5df82cb5a53d"],"in":false,"label":"Out","hideLabel":false},{"id":"69112978-a703-4aae-9beb-cb102f41108e","type":"port.parameter","x":914.316650390625,"y":246.5,"name":"ROSTopic","alignment":"top","parentNode":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","links":["4e23f350-0e4d-45a2-8ab9-13ce2835d649"],"in":true,"label":"ROSTopic","hideLabel":false}],"data":{"code":"import rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(inp):\n    global linear_velocity, angular_velocity\n    \n\ndef main(inputs, outputs, parameters, synchronise):\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n\n    rostopic_name = parameters.read_string(\"ROSTopic\")\n    # Create a Publisher that publishes to the given ROSTopic\n    publisher = rospy.Publisher(rostopic_name, Twist, queue_size=10)\n    \n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n        \n    # Create a Twist message\n    data = Twist()\n\n    while(auto_enable or inputs.read_number('Enable') and not rospy.is_shutdown()):\n        msg = inputs.read_array(\"Inp\")\n\n        if msg is None:\n            continue\n\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\n        data.linear.x = linear_velocity\n        data.angular.z = angular_velocity\n        publisher.publish(data)\n\n        synchronise()","frequency":"30","params":[{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"718px","height":"521px"}}}}}]},"version":"3.0","package":{"name":"MotorDriver","version":"2.0.0","description":"Publishes Twist Messages to a given Topic","author":"Muhammad Taha Suhail, Toshan Luktuke","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiPjx0aXRsZT5NT1RPUiBEQzwvdGl0bGU+PHBhdGggZD0iTTU0LjQ2OSwzNC42MjVINzQuNjNhNy4yOTQsNy4yOTQsMCwwLDEsNy4yOTQsNy4yOTRWNTJhMCwwLDAsMCwxLDAsMEg0Ny4xNzVhMCwwLDAsMCwxLDAsMFY0MS45MTlBNy4yOTQsNy4yOTQsMCwwLDEsNTQuNDY5LDM0LjYyNVoiIHN0eWxlPSJmaWxsOiNiYWRkZmEiLz48cGF0aCBkPSJNODAuNDI1LDUySDQ4LjY3NVY3Mi4xOTFBNC4wNzYsNC4wNzYsMCwwLDAsNTEuMyw3NmgwYTQuMDc2LDQuMDc2LDAsMCwxLDIuNjI1LDMuODA5VjgwLjVoMjEuMjV2LS42OTFBNC4wNzYsNC4wNzYsMCwwLDEsNzcuOCw3NmgwYTQuMDc2LDQuMDc2LDAsMCwwLDIuNjI1LTMuODA5WiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxyZWN0IHg9IjYxLjExMiIgeT0iODYuNSIgd2lkdGg9IjYuODc1IiBoZWlnaHQ9IjYuODc1IiBzdHlsZT0iZmlsbDojYmFkZGZhIi8+PHBhdGggZD0iTTc0LjYzLDMzLjUyNUg1NC40NjlhOC40LDguNCwwLDAsMC04LjM5NCw4LjM5NVY1MmExLjEsMS4xLDAsMCwwLDEuMSwxLjFoLjRWNzIuMTkxYTUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLDQuODM3LDIuOTkxLDIuOTkxLDAsMCwxLDEuOTE2LDIuNzhWODAuNWExLjEsMS4xLDAsMCwwLDEuMSwxLjFINjMuNDV2My44SDYxLjExMmExLjEsMS4xLDAsMCwwLTEuMSwxLjF2Ni44NzVhMS4xLDEuMSwwLDAsMCwxLjEsMS4xaDYuODc1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY4Ni41YTEuMSwxLjEsMCwwLDAtMS4xLTEuMUg2NS42NVY4MS42aDkuNTI1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMXYtLjY5MWEyLjk5MSwyLjk5MSwwLDAsMSwxLjkxNi0yLjc4LDUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLTQuODM3VjUzLjFoLjRhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjQxLjkyQTguNCw4LjQsMCwwLDAsNzQuNjMsMzMuNTI1Wm0tNy43NDMsNTguNzVINjIuMjEyVjg3LjZoNC42NzVaTTQ4LjI3NSw0MS45MmE2LjIsNi4yLDAsMCwxLDYuMTk0LTYuMkg3NC42M2E2LjIsNi4yLDAsMCwxLDYuMTk0LDYuMlY1MC45SDQ4LjI3NVptMzEuMDUsMzAuMjcyYTIuOTkxLDIuOTkxLDAsMCwxLTEuOTE2LDIuNzhBNS4yMSw1LjIxLDAsMCwwLDc0LjA5MSw3OS40SDU1LjAwOGE1LjIxLDUuMjEsMCwwLDAtMy4zMTctNC40MjksMi45OTEsMi45OTEsMCwwLDEtMS45MTYtMi43OFY1My4xaDI5LjU1WiIgc3R5bGU9ImZpbGw6IzM5NDlhYSIvPjxwYXRoIGQ9Ik01Ny44LDcxLjZhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjU4Ljc1YTEuMSwxLjEsMCwwLDAtMi4yLDBWNzAuNUExLjEsMS4xLDAsMCwwLDU3LjgsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNjQuNTUsNzEuNmExLjEsMS4xLDAsMCwwLDEuMS0xLjFWNTguNzVhMS4xLDEuMSwwLDAsMC0yLjIsMFY3MC41QTEuMSwxLjEsMCwwLDAsNjQuNTUsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNzEuMyw3MS42YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY1OC43NWExLjEsMS4xLDAsMCwwLTIuMiwwVjcwLjVBMS4xLDEuMSwwLDAsMCw3MS4zLDcxLjZaIiBzdHlsZT0iZmlsbDojMzk0OWFhIi8+PC9zdmc+Cg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"2719251a-90f6-499b-af92-2421135172c9","type":"basic.input","data":{"name":"Inp"},"position":{"x":342,"y":392}},{"id":"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f","type":"basic.constant","data":{"name":"ROSTopic","value":"/robot/cmd_vel","local":true},"position":{"x":858,"y":22}},{"id":"4e18ed81-705e-4c62-88cb-76bd89ef35e5","type":"basic.output","data":{"name":"Out"},"position":{"x":1379,"y":458}},{"id":"80370198-435b-48a2-82a8-6220e726673a","type":"basic.input","data":{"name":"Enable"},"position":{"x":343,"y":610}},{"id":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","type":"basic.code","data":{"code":"import rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(inp):\n    global linear_velocity, angular_velocity\n    \n\ndef main(inputs, outputs, parameters, synchronise):\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n\n    rostopic_name = parameters.read_string(\"ROSTopic\")\n    # Create a Publisher that publishes to the given ROSTopic\n    publisher = rospy.Publisher(rostopic_name, Twist, queue_size=10)\n    \n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n        \n    # Create a Twist message\n    data = Twist()\n\n    while(auto_enable or inputs.read_number('Enable') and not rospy.is_shutdown()):\n        msg = inputs.read_array(\"Inp\")\n\n        if msg is None:\n            continue\n\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\n        data.linear.x = linear_velocity\n        data.angular.z = angular_velocity\n        publisher.publish(data)\n\n        synchronise()","frequency":"30","params":[{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"718px","height":"521px"}},"position":{"x":495,"y":176}}],"wires":[{"source":{"block":"80370198-435b-48a2-82a8-6220e726673a","port":"input-out","name":"Enable"},"target":{"block":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","port":"Enable","name":"Enable"}},{"source":{"block":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","port":"Out","name":"Out"},"target":{"block":"4e18ed81-705e-4c62-88cb-76bd89ef35e5","port":"output-in","name":"output-in"}},{"source":{"block":"0003-92f10c98-07b2-414e-8e93-f7c42ae0700f","port":"constant-out","name":"ROSTopic"},"target":{"block":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","port":"ROSTopic","name":"ROSTopic"}},{"source":{"block":"2719251a-90f6-499b-af92-2421135172c9","port":"input-out","name":"Inp"},"target":{"block":"37ddd59f-4872-4b0d-a738-80cfadea5b0e","port":"Inp","name":"Inp"}}]}},"dependencies":{}}