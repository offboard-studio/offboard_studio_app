{"editor":{"id":"e12f1fc9-d63e-4f48-a795-287ead04c3fb","locked":false,"offsetX":-51,"offsetY":-48,"zoom":100,"gridSize":0,"layers":[{"id":"cb8a8b85-6443-4abd-997c-9fc5655494d7","type":"diagram-links","isSvg":true,"transformed":true,"models":{"6dbe33a5-af0f-4b8a-aba7-58784924e876":{"id":"6dbe33a5-af0f-4b8a-aba7-58784924e876","type":"default","selected":false,"source":"36138a4c-7715-4bf2-a57c-89bbbb542b77","sourcePort":"1d8b1bcd-fbaa-46a6-8054-df8a2f85e7e1","target":"9c2ccfc0-6960-431f-a5ae-758f90d12ec1","targetPort":"9646bd47-48e8-45e5-9756-5ea2ab0e2941","points":[{"id":"6dc8d983-b449-4153-8235-3bc6313af5e3","type":"point","x":1438.1500244140625,"y":587.5},{"id":"f240baad-2fa7-4d8e-b5f8-072521f7053a","type":"point","x":1520.5,"y":589.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"fc33701b-f950-4ab0-acf4-11f953679891":{"id":"fc33701b-f950-4ab0-acf4-11f953679891","type":"default","selected":false,"source":"0008-71389e84-de67-4cba-902c-109bd64ff3f0","sourcePort":"5e81201e-54f6-4849-b2fe-8da7c310aae9","target":"36138a4c-7715-4bf2-a57c-89bbbb542b77","targetPort":"2039de4b-9e1c-4ea3-9726-f4cdf8bb7071","points":[{"id":"a60263a2-e793-4794-ab09-28fc1a173a69","type":"point","x":1192,"y":238.5},{"id":"e22e3bd7-9334-4349-8df1-de37d0ea7719","type":"point","x":1197,"y":352}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"7ad6ea44-0103-4e31-9038-0088e047efa1":{"id":"7ad6ea44-0103-4e31-9038-0088e047efa1","type":"default","selected":false,"source":"0007-01ee04d0-4663-4560-8d62-db56696a4087","sourcePort":"f593644f-4058-41d7-8839-3ee6a40116bd","target":"36138a4c-7715-4bf2-a57c-89bbbb542b77","targetPort":"43687cbd-2e5c-495f-a5c6-c6c6c5921143","points":[{"id":"7526550c-8c50-4439-90d5-40c443ea71b5","type":"point","x":953,"y":239.5},{"id":"f2622c3e-9e85-4dbb-8ba3-3caef24eb258","type":"point","x":940.816650390625,"y":352}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"c91b0dee-dba6-4c7b-9007-a204889f9480":{"id":"c91b0dee-dba6-4c7b-9007-a204889f9480","type":"default","selected":false,"source":"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b","sourcePort":"16afbbce-e15f-43ac-a1b6-77234b14882b","target":"36138a4c-7715-4bf2-a57c-89bbbb542b77","targetPort":"ab9cff30-b01c-4eb7-8d34-5c15108e311f","points":[{"id":"0d0959ec-fa1e-443d-bc58-d224a3668d73","type":"point","x":698,"y":238.5},{"id":"19891e49-4f88-4299-b354-a9ef1ad99917","type":"point","x":684.6500244140625,"y":352}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"50726e33-9889-4b7f-a4cd-50794e11e68e":{"id":"50726e33-9889-4b7f-a4cd-50794e11e68e","type":"default","selected":false,"source":"2d0f73e5-5d71-44e1-80b5-6510effe6645","sourcePort":"1622ea8e-8ac8-497a-a1ff-084fcf630d08","target":"36138a4c-7715-4bf2-a57c-89bbbb542b77","targetPort":"1f263eeb-65a3-432b-9f45-4415c7be9d29","points":[{"id":"f014e079-dba3-46d2-954d-794fb6b7909a","type":"point","x":359.5,"y":683.5},{"id":"d4fdd609-b09d-40f3-8235-a0089aeb2498","type":"point","x":443.5,"y":666}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"8b3d57e7-fb5c-446d-b9e3-60b15b3ab7c4":{"id":"8b3d57e7-fb5c-446d-b9e3-60b15b3ab7c4","type":"default","selected":false,"source":"4b0d11f6-422d-4677-baae-081bc7d0a730","sourcePort":"f86f3825-2794-42e3-b366-4c649dcd666a","target":"36138a4c-7715-4bf2-a57c-89bbbb542b77","targetPort":"aed76817-56ee-43b6-87d1-87f8e7475133","points":[{"id":"a65aec08-79e8-4529-af86-6214de27f408","type":"point","x":356.5,"y":489.5},{"id":"3a4064cc-9a3b-4d0f-b6ab-ebbb9e0ad460","type":"point","x":443.5,"y":509}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"6d1cd65b-11fe-47fb-b609-fc95edc28e57","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"4b0d11f6-422d-4677-baae-081bc7d0a730":{"id":"4b0d11f6-422d-4677-baae-081bc7d0a730","type":"basic.input","selected":true,"x":262,"y":462,"ports":[{"id":"f86f3825-2794-42e3-b366-4c649dcd666a","type":"port.output","x":349,"y":482,"name":"input-out","alignment":"right","parentNode":"4b0d11f6-422d-4677-baae-081bc7d0a730","links":["8b3d57e7-fb5c-446d-b9e3-60b15b3ab7c4"],"in":false,"label":"Inp","hideLabel":true}],"data":{"name":"Inp"}},"2d0f73e5-5d71-44e1-80b5-6510effe6645":{"id":"2d0f73e5-5d71-44e1-80b5-6510effe6645","type":"basic.input","selected":false,"x":266,"y":657,"ports":[{"id":"1622ea8e-8ac8-497a-a1ff-084fcf630d08","type":"port.output","x":352,"y":676,"name":"input-out","alignment":"right","parentNode":"2d0f73e5-5d71-44e1-80b5-6510effe6645","links":["50726e33-9889-4b7f-a4cd-50794e11e68e"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"9c2ccfc0-6960-431f-a5ae-758f90d12ec1":{"id":"9c2ccfc0-6960-431f-a5ae-758f90d12ec1","type":"basic.output","selected":false,"x":1512,"y":563,"ports":[{"id":"9646bd47-48e8-45e5-9756-5ea2ab0e2941","type":"port.input","x":1513,"y":582,"name":"output-in","alignment":"left","parentNode":"9c2ccfc0-6960-431f-a5ae-758f90d12ec1","links":["6dbe33a5-af0f-4b8a-aba7-58784924e876"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b":{"id":"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b","type":"basic.constant","selected":false,"x":637,"y":123,"ports":[{"id":"16afbbce-e15f-43ac-a1b6-77234b14882b","type":"port.output","x":690.5,"y":231,"name":"constant-out","alignment":"bottom","parentNode":"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b","links":["c91b0dee-dba6-4c7b-9007-a204889f9480"],"in":false,"label":"Kp","hideLabel":true}],"data":{"name":"Kp","value":"1.0","local":true}},"0007-01ee04d0-4663-4560-8d62-db56696a4087":{"id":"0007-01ee04d0-4663-4560-8d62-db56696a4087","type":"basic.constant","selected":false,"x":892,"y":124,"ports":[{"id":"f593644f-4058-41d7-8839-3ee6a40116bd","type":"port.output","x":945.5,"y":232,"name":"constant-out","alignment":"bottom","parentNode":"0007-01ee04d0-4663-4560-8d62-db56696a4087","links":["7ad6ea44-0103-4e31-9038-0088e047efa1"],"in":false,"label":"Ki","hideLabel":true}],"data":{"name":"Ki","value":"1.0","local":true}},"0008-71389e84-de67-4cba-902c-109bd64ff3f0":{"id":"0008-71389e84-de67-4cba-902c-109bd64ff3f0","type":"basic.constant","selected":false,"x":1131,"y":123,"ports":[{"id":"5e81201e-54f6-4849-b2fe-8da7c310aae9","type":"port.output","x":1184.5,"y":231,"name":"constant-out","alignment":"bottom","parentNode":"0008-71389e84-de67-4cba-902c-109bd64ff3f0","links":["fc33701b-f950-4ab0-acf4-11f953679891"],"in":false,"label":"Kd","hideLabel":true}],"data":{"name":"Kd","value":"1.0","local":true}},"36138a4c-7715-4bf2-a57c-89bbbb542b77":{"id":"36138a4c-7715-4bf2-a57c-89bbbb542b77","type":"basic.code","selected":false,"x":435,"y":274,"ports":[{"id":"aed76817-56ee-43b6-87d1-87f8e7475133","type":"port.input","x":436,"y":501.5,"name":"Inp","alignment":"left","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["8b3d57e7-fb5c-446d-b9e3-60b15b3ab7c4"],"in":true,"label":"Inp","hideLabel":false},{"id":"1f263eeb-65a3-432b-9f45-4415c7be9d29","type":"port.input","x":436,"y":658.5,"name":"Enable","alignment":"left","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["50726e33-9889-4b7f-a4cd-50794e11e68e"],"in":true,"label":"Enable","hideLabel":false},{"id":"1d8b1bcd-fbaa-46a6-8054-df8a2f85e7e1","type":"port.output","x":1430.6500244140625,"y":580,"name":"Out","alignment":"right","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["6dbe33a5-af0f-4b8a-aba7-58784924e876"],"in":false,"label":"Out","hideLabel":false},{"id":"ab9cff30-b01c-4eb7-8d34-5c15108e311f","type":"port.parameter","x":677.1500244140625,"y":344.5,"name":"Kp","alignment":"top","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["c91b0dee-dba6-4c7b-9007-a204889f9480"],"in":true,"label":"Kp","hideLabel":false},{"id":"43687cbd-2e5c-495f-a5c6-c6c6c5921143","type":"port.parameter","x":933.316650390625,"y":344.5,"name":"Ki","alignment":"top","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["7ad6ea44-0103-4e31-9038-0088e047efa1"],"in":true,"label":"Ki","hideLabel":false},{"id":"2039de4b-9e1c-4ea3-9726-f4cdf8bb7071","type":"port.parameter","x":1189.5,"y":344.5,"name":"Kd","alignment":"top","parentNode":"36138a4c-7715-4bf2-a57c-89bbbb542b77","links":["fc33701b-f950-4ab0-acf4-11f953679891"],"in":true,"label":"Kd","hideLabel":false}],"data":{"code":"import numpy as np\nimport math\nfrom time import sleep\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    kp = parameters.read_number(\"Kp\")\n    ki = parameters.read_number(\"Ki\")\n    kd = parameters.read_number(\"Kd\")\n\n    previousError, I = 0, 0\n\n    while(auto_enable or inputs.read_number('Enable')):\n        msg = inputs.read_number(\"Inp\")\n        if msg is None:\n            continue\n\n        error = float(msg)\n        sleep(0.01)\n\n        P = error\n        I = I + error\n        D = error - previousError\n        PIDvalue = (kp*P) + (ki*I) + (kd*D)\n        previousError = error\n\n        linear_velocity = 5.0\n        angular_velocity = -PIDvalue\n\n        data = [linear_velocity, angular_velocity]\n        outputs.share_array(\"Out\", data)\n        synchronise()","frequency":"30","params":[{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"876px","height":"442px"}}}}}]},"version":"3.0","package":{"name":"PID","version":"2.0.0","description":"Navigation using PID","author":"Muhammad Taha Suhail, Toshan Luktuke","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfNSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PGc+PGc+PHBhdGggZD0ibTI1LjQyIDYyaC0yMS40MnYtOC4yOWMwLTIuOTUgMS4yLTUuNjMgMy4xNC03LjU3Ljg0LS44NCAxLjgyLTEuNTQgMi45LTIuMDYgMS40MS0uNjkgMy0xLjA4IDQuNjctMS4wOC40NCAwIC44Ny4wMyAxLjI5LjA4IDIuODIuMzQgNS4zNCAxLjc4IDcuMDUgMy45MiAxLjE4IDEuNDYgMS45OCAzLjIzIDIuMjYgNS4ybC42OSA0LjguMDMuMDggNC44MS0yLjE5IDEuOTggNC40Ni00LjM4IDJjLS45NS40My0xLjk4LjY1LTMuMDIuNjV6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNy40MiA1Ni45OWMuNTUtMS4xNS41OC0xLjM1LjU4LTEuNTYgMC0xLjM0LTEuMDktMi40My0yLjQzLTIuNDNoLS4wNGMtLjM1IDAtLjY5LjA3LTEuMDEuMjJsLTEuMi41NGMxLjA0LTEuNzEgMi45MS0yLjc2IDQuOTItMi43NmgxLjc2Yy43MyAwIDEuNDEuMiAyIC41NC4zLjE3LjU4LjM5LjgzLjYzLjcyLjczIDEuMTcgMS43MyAxLjE3IDIuODNzLS45IDItMiAyaC00LjU3eiIgZmlsbD0iI2I0ZGQ3ZiIvPjwvZz48Zz48cGF0aCBkPSJtMzMuMzIgNTMuNzYtLjAxLjAxLTEuMzEuNTl2LTcuMzZoMTB2NC41NGMtLjU5LS4zNC0xLjI3LS41NC0yLS41NGgtMS43NmMtMi4wMSAwLTMuODggMS4wNS00LjkyIDIuNzZ6IiBmaWxsPSIjYWFiMmJkIi8+PC9nPjxnPjxwYXRoIGQ9Im02MiAzOXY0YzAgMi4yMS0xLjc5IDQtNCA0aC02LTEwLTEwLTguOTVjLTEuNzEtMi4xNC00LjIzLTMuNTgtNy4wNS0zLjkydi0zLjA4aC0uMzJjLjg1IDAgMS42Ni0uMzQgMi4yNS0uOTNsLjA3LS4wN3oiIGZpbGw9IiNjY2QxZDkiLz48L2c+PGc+PHBhdGggZD0ibTU4IDEzaC0yMC0xNi4wNS0uMDFjLS4zMyAzLjQ2LTIuNDQgNi40LTUuNCA3LjkxLjg5Ljc0IDEuNDYgMS44NSAxLjQ2IDMuMDloM2MxLjEgMCAyIC44OSAyIDIgMCAuNTUtLjIyIDEuMDUtLjU5IDEuNDEtLjM2LjM3LS44Ni41OS0xLjQxLjU5aC0zbC44NSA4LjVjLjAxLjEuMDEuMjEuMDEuMzEgMCAuODEtLjMgMS41OS0uODYgMi4xOWg0NHYtMjJjMC0yLjIxLTEuNzktNC00LTR6IiBmaWxsPSIjNjlkNmY0Ii8+PC9nPjxnPjxjaXJjbGUgY3g9IjQ4IiBjeT0iMTMiIGZpbGw9IiNlNmU5ZWQiIHI9IjEwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNyAyOWg4djZoLTh6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yMS45NCAxM2MtLjMzIDMuNDYtMi40NCA2LjQtNS40IDcuOTEtLjY5LS41Ny0xLjU4LS45MS0yLjU0LS45MWgtNGMtMS4wNCAwLTIuMDIuMjYtMi44Ny43My0zLjA2LTEuNzEtNS4xMy00Ljk4LTUuMTMtOC43MyAwLTUuNTIgNC40OC0xMCAxMC0xMHMxMCA0LjQ4IDEwIDEwYzAgLjM0LS4wMi42Ny0uMDYgMXoiIGZpbGw9IiNlNmU5ZWQiLz48L2c+PGc+PHBhdGggZD0ibTEwIDM1djVjLTMuNTgtMS4xOS02LTQuNTUtNi04LjMzdi0zLjY3aDZsLS45NC45NGMtLjY4LjY4LTEuMDYgMS42LTEuMDYgMi41NnMuMzggMS44OCAxLjA2IDIuNTZ6IiBmaWxsPSIjNjU2ZDc4Ii8+PC9nPjxnPjxwYXRoIGQ9Im0xOCAyNGgtMi43NmMtLjc2IDAtMS40NS40My0xLjc5IDEuMWwtMS40NSAyLjloLTItNnYtMmMwLTIuMjcgMS4yNy00LjI1IDMuMTMtNS4yNy44NS0uNDcgMS44My0uNzMgMi44Ny0uNzNoNGMuOTYgMCAxLjg1LjM0IDIuNTQuOTEuODkuNzQgMS40NiAxLjg1IDEuNDYgMy4wOXoiIGZpbGw9IiNmZjgyNmUiLz48L2c+PGc+PHBhdGggZD0ibTIxIDI0YzEuMSAwIDIgLjg5IDIgMiAwIC41NS0uMjIgMS4wNS0uNTkgMS40MS0uMzYuMzctLjg2LjU5LTEuNDEuNTloLTMtNmwxLjQ1LTIuOWMuMzQtLjY3IDEuMDMtMS4xIDEuNzktMS4xaDIuNzZ6IiBmaWxsPSIjZmM2ZTUxIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNS41NyA1M2MxLjM0IDAgMi40MyAxLjA5IDIuNDMgMi40MyAwIC4yMS0uMDMuNDEtLjU4IDEuNTYtLjIyLjI4LS41MS41LS44NS42NmwtMy43NSAxLjctMS45OC00LjQ2IDEuMTYtLjUzIDEuMzEtLjU5LjAxLS4wMSAxLjItLjU0Yy4zMi0uMTUuNjYtLjIyIDEuMDEtLjIyeiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48Zz48cGF0aCBkPSJtMTAgNDB2LTVsLS45NC0uOTRjLS42OC0uNjgtMS4wNi0xLjYtMS4wNi0yLjU2cy4zOC0xLjg4IDEuMDYtMi41NmwuOTQtLjk0aDIgNmwuODUgOC41Yy4wMS4xLjAxLjIxLjAxLjMxIDAgLjgxLS4zIDEuNTktLjg2IDIuMTktLjAzLjAzLS4wNS4wNS0uMDcuMDctLjU5LjU5LTEuNC45My0yLjI1LjkzaC4zMnYzLjA4Yy0uNDItLjA1LS44NS0uMDgtMS4yOS0uMDgtMS42NyAwLTMuMjYuMzktNC42NyAxLjA4bC0uMDQtLjA4eiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48L2c+PGc+PHBhdGggZD0ibTEzIDEwLjE2MiAxLjI3OSAzLjgzOGg0LjcyMXYtMmgtMy4yNzlsLTIuNzIxLTguMTYyLTMuMTg2IDkuNTU2LTEuMTk2LTIuMzk0aC0zLjYxOHYyaDIuMzgybDIuODA0IDUuNjA2eiIvPjxwYXRoIGQ9Im01OCA0OGMyLjc1NyAwIDUtMi4yNDMgNS01di0yNmMwLTIuNDMtMS43NDQtNC40NTYtNC4wNDYtNC45MDQtLjQ2Mi01LjY0My01LjE5NC0xMC4wOTYtMTAuOTU0LTEwLjA5Ni01LjcyOCAwLTEwLjQ0MiA0LjQwMi0xMC45NDkgMTBoLTE0LjA1MWMwLTYuMDY1LTQuOTM1LTExLTExLTExcy0xMSA0LjkzNS0xMSAxMWMwIDMuNDY4IDEuNjQyIDYuNzA3IDQuMzY0IDguNzctMS40NDYgMS4yODMtMi4zNjQgMy4xNDktMi4zNjQgNS4yM3YxLjk5OSAxIDIuNjc2YzAgMy45NjkgMi4zODMgNy41MDMgNiA5LjAxNHYyLjgwOGMtMy41NzUgMi4wMDctNiA1LjgzMS02IDEwLjIxNHY5LjI4OWgyMi44NTZ2LS4wMjNjMS4wMzctLjA1NCAyLjA0NC0uMjg4IDIuOTk0LS43Mmw4LjEzNi0zLjY5OGMuMzE3LS4xNDQuNjAzLS4zMzQuODU2LS41NTloNC4xNThjMS4zMDIgMCAyLjQwMi0uODM5IDIuODE2LTJoMTUuMTg0YzEuNjU0IDAgMy0xLjM0NiAzLTNzLTEuMzQ2LTMtMy0zaC02Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMXptMC0yaC0zNC41MTJjLTEuNjc3LTEuOS0zLjk0NS0zLjI1Mi02LjQ4OC0zLjc2NXYtMS40N2MuNDk5LS4xNjcuOTU5LS40MjUgMS4zNjQtLjc2NWg0Mi42MzZ2M2MwIDEuNjU0LTEuMzQ2IDMtMyAzem0tMTggNGgtMS43NjRjLTIuMDQ5IDAtMy45OTguOTUtNS4yMzYgMi40NzZ2LTQuNDc2aDh2Mi4xMDFjLS4zMjMtLjA2Ni0uNjU4LS4xMDEtMS0uMTAxem0tMTMuMTg2IDUuNjIzLS41MS0zLjU2OGMtLjIwOS0xLjQ2LS42OS0yLjgyNi0xLjM4My00LjA1NWg2LjA3OXY1Ljcyem0tMTMuMTk2LTI4LjYyNC43MjQtMS40NDdjLjE3LS4zNDEuNTEzLS41NTMuODk1LS41NTNoNS43NjNjLjU1MiAwIDEgLjQ0OSAxIDFzLS40NDggMS0xIDF6bTM0LjM4Mi0yMi45OTljNC45NjMgMCA5IDQuMDM4IDkgOXMtNC4wMzcgOS05IDktOS00LjAzOC05LTkgNC4wMzctOSA5LTl6bS0xMC45NDkgMTBjLjUwNyA1LjU5OCA1LjIyMSAxMCAxMC45NDkgMTAgNS42NzIgMCAxMC4zNTMtNC4zMTYgMTAuOTM3LTkuODM1IDEuMTk0LjM5NiAyLjA2MyAxLjUxIDIuMDYzIDIuODM1djIxaC00MS4zMjRjLjE1Mi0uNTEzLjIyNC0xLjA1My4xNjgtMS42MDJsLS43NC03LjM5OWgxLjg5NmMxLjY1NCAwIDMtMS4zNDYgMy0zcy0xLjM0Ni0zLTMtM2gtMi4xMDFjLS4xMzktLjY4LS40My0xLjMwMS0uODE1LTEuODUxIDIuNDk1LTEuNjU2IDQuMTc2LTQuMjI4IDQuNzEyLTcuMTQ4em0tMzQuMDUxLTJjMC00Ljk2MiA0LjAzNy05IDktOXM5IDQuMDM4IDkgOWMwIDMuMjA3LTEuNjg5IDYuMTA2LTQuNDIyIDcuNzI2LS43NTQtLjQ1Ny0xLjYzMy0uNzI2LTIuNTc3LS43MjZoLTQuMDAxYy0uOTk3IDAtMS45NDQuMjEzLTIuODAzLjU5LTIuNTkzLTEuNjQ1LTQuMTk3LTQuNS00LjE5Ny03LjU5em0yIDE0YzAtMi43NTcgMi4yNDMtNSA1LTVoNC4wMDFjMS4zMDQgMCAyLjQxNS44MzUgMi44MjcgMS45OTloLTEuNTkyYy0xLjE0NCAwLTIuMTcyLjYzNS0yLjY4NCAxLjY1OGwtMS4xNzEgMi4zNDJoLTYuMzgxem0wIDUuNjc1di0yLjY3NmgyLjc0MWMtLjQ3OS43NC0uNzQxIDEuNTk5LS43NDEgMi41MDEgMCAxLjIxNi40OTMgMi40MDcgMS4zNTQgMy4yNjhsLjY0Ni42NDZ2My4wNDNjLTIuNDM0LTEuMzUzLTQtMy45MjEtNC02Ljc4MnptNC43NjggMS42NzljLS40ODgtLjQ4OC0uNzY4LTEuMTY0LS43NjgtMS44NTQgMC0uNy4yNzItMS4zNTguNzY4LTEuODU0bC42NDctLjY0N2g2LjY4bC43NiA3LjZjLjA2Ni42NTMtLjE2MyAxLjI5Ni0uNjI5IDEuNzYyLS40MDYuNDA2LS45Ny42NC0xLjU0NS42NGgtMi42ODF2MmgydjEuMDEzYy0uMDk3LS4wMDMtLjE5Mi0uMDE0LS4yODktLjAxNC0xLjI5OCAwLTIuNTQzLjIyMS0zLjcxMS42MTN2LTguMDI3em0xOC4yNTQgMjcuMDgzYy0uODIxLjM3NC0xLjY5Ni41NjMtMi42LjU2My0yLjc5OCAwLTUuMjE4LTEuODAxLTYuMDIxLTQuNDhsLTEuNDQyLTQuODA3LTEuOTE2LjU3NCAxLjQ0MiA0LjgwN2MuNDcyIDEuNTc1IDEuMzg0IDIuOSAyLjU1OSAzLjkwNmgtMTUuMDQ0di03LjI4OWMwLTUuMzU1IDQuMzU2LTkuNzExIDkuNzExLTkuNzExIDQuODAxIDAgOC45MzQgMy41ODQgOS42MTIgOC4zMzhsLjU5MyA0LjE0Ny0xLjMzLjYwNS44MjggMS44MiA1LjkyMS0yLjY5MiAxLjE3MSAyLjYzNHptOC4xMzctMy42OTktMi44MzEgMS4yODctMS4xNzEtMi42MzUgMi43NzgtMS4yNjNjLjE4NC0uMDgzLjM4OC0uMTI3LjYzMS0uMTI3Ljc5IDAgMS40MzQuNjQ0IDEuNDM0IDEuNDM0IDAgLjU2LS4zMyAxLjA3Mi0uODQxIDEuMzA0em01Ljg0MS0uNzM4aC0zLjA1MmMuMDMyLS4xODYuMDUyLS4zNzQuMDUyLS41NjYgMC0xLjQ1Ny0uOTE1LTIuNjk2LTIuMjE2LTMuMTk0LjQ2Ni0uMTUxLjk1My0uMjQgMS40NTItLjI0aDEuNzY0YzEuNjU0IDAgMyAxLjM0NiAzIDMgMCAuNTUyLS40NDggMS0xIDF6bTEyLTRoNmMuNTUyIDAgMSAuNDQ4IDEgMXMtLjQ0OCAxLTEgMWgtMTUuMTAxYy0uMjQ3LTEuMjEzLS45NDYtMi4yNTMtMS44OTktMi45NzR2LTMuMDI2aDh2MWMwIDEuNjU0IDEuMzQ2IDMgMyAzeiIvPjxwYXRoIGQ9Im01NyA0MmgydjJoLTJ6Ii8+PHBhdGggZD0ibTUzIDQyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDkgNDJoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiA4aDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgOGg4djJoLTh6Ii8+PHBhdGggZD0ibTQyIDEyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgMTJoOHYyaC04eiIvPjxwYXRoIGQ9Im00MiAxNmgydjJoLTJ6Ii8+PHBhdGggZD0ibTQ2IDE2aDh2MmgtOHoiLz48cGF0aCBkPSJtMzYgMjhoLTEwdjhoMTB6bS0yIDZoLTZ2LTRoNnoiLz48cGF0aCBkPSJtMjYgMjRoMTB2MmgtMTB6Ii8+PHBhdGggZD0ibTI2IDIwaDEwdjJoLTEweiIvPjxwYXRoIGQ9Im0yNiAxNmgxMHYyaC0xMHoiLz48cGF0aCBkPSJtMzggMzRoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiAzNGgxN3YyaC0xN3oiLz48cGF0aCBkPSJtMzggMzBoMjF2MmgtMjF6Ii8+PHBhdGggZD0ibTM4IDI2aDIxdjJoLTIxeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"4b0d11f6-422d-4677-baae-081bc7d0a730","type":"basic.input","data":{"name":"Inp"},"position":{"x":262,"y":462}},{"id":"2d0f73e5-5d71-44e1-80b5-6510effe6645","type":"basic.input","data":{"name":"Enable"},"position":{"x":266,"y":657}},{"id":"9c2ccfc0-6960-431f-a5ae-758f90d12ec1","type":"basic.output","data":{"name":"Out"},"position":{"x":1512,"y":563}},{"id":"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b","type":"basic.constant","data":{"name":"Kp","value":"1.0","local":true},"position":{"x":637,"y":123}},{"id":"0007-01ee04d0-4663-4560-8d62-db56696a4087","type":"basic.constant","data":{"name":"Ki","value":"1.0","local":true},"position":{"x":892,"y":124}},{"id":"0008-71389e84-de67-4cba-902c-109bd64ff3f0","type":"basic.constant","data":{"name":"Kd","value":"1.0","local":true},"position":{"x":1131,"y":123}},{"id":"36138a4c-7715-4bf2-a57c-89bbbb542b77","type":"basic.code","data":{"code":"import numpy as np\nimport math\nfrom time import sleep\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    kp = parameters.read_number(\"Kp\")\n    ki = parameters.read_number(\"Ki\")\n    kd = parameters.read_number(\"Kd\")\n\n    previousError, I = 0, 0\n\n    while(auto_enable or inputs.read_number('Enable')):\n        msg = inputs.read_number(\"Inp\")\n        if msg is None:\n            continue\n\n        error = float(msg)\n        sleep(0.01)\n\n        P = error\n        I = I + error\n        D = error - previousError\n        PIDvalue = (kp*P) + (ki*I) + (kd*D)\n        previousError = error\n\n        linear_velocity = 5.0\n        angular_velocity = -PIDvalue\n\n        data = [linear_velocity, angular_velocity]\n        outputs.share_array(\"Out\", data)\n        synchronise()","frequency":"30","params":[{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"876px","height":"442px"}},"position":{"x":435,"y":274}}],"wires":[{"source":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Out","name":"Out"},"target":{"block":"9c2ccfc0-6960-431f-a5ae-758f90d12ec1","port":"output-in","name":"output-in"}},{"source":{"block":"0008-71389e84-de67-4cba-902c-109bd64ff3f0","port":"constant-out","name":"Kd"},"target":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Kd","name":"Kd"}},{"source":{"block":"0007-01ee04d0-4663-4560-8d62-db56696a4087","port":"constant-out","name":"Ki"},"target":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Ki","name":"Ki"}},{"source":{"block":"0006-63337551-f283-4bed-96e3-c1ebd43c3d4b","port":"constant-out","name":"Kp"},"target":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Kp","name":"Kp"}},{"source":{"block":"2d0f73e5-5d71-44e1-80b5-6510effe6645","port":"input-out","name":"Enable"},"target":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Enable","name":"Enable"}},{"source":{"block":"4b0d11f6-422d-4677-baae-081bc7d0a730","port":"input-out","name":"Inp"},"target":{"block":"36138a4c-7715-4bf2-a57c-89bbbb542b77","port":"Inp","name":"Inp"}}]}},"dependencies":{}}