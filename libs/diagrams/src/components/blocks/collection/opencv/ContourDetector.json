{"editor":{"id":"9de19018-bf8b-4f44-8e5f-ff9264a31a0b","locked":false,"offsetX":65,"offsetY":-68,"zoom":100,"gridSize":0,"layers":[{"id":"8cca368e-01e1-4231-8835-8003fcbe0dff","type":"diagram-links","isSvg":true,"transformed":true,"models":{"481bf3ae-7062-449d-90fc-bac2a6b5d63b":{"id":"481bf3ae-7062-449d-90fc-bac2a6b5d63b","type":"default","selected":false,"source":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","sourcePort":"5e9ba39a-8590-49f1-a243-850112cecda3","target":"6bcf4a64-d6f1-46be-bd88-966545ee47d8","targetPort":"7ffa5838-1933-443b-aa61-aba11f7f9396","points":[{"id":"bb13f4ed-19f5-45e8-a508-a010ee198589","type":"point","x":1205.1500244140625,"y":545},{"id":"aa213714-6180-4bb0-aa22-037690bb7fbc","type":"point","x":1381.5,"y":534.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"20e2d302-8b47-41ce-9a77-e8af01edbc4e":{"id":"20e2d302-8b47-41ce-9a77-e8af01edbc4e","type":"default","selected":false,"source":"831d377a-28b2-48a7-8791-0fd03e4f318f","sourcePort":"536fc3fc-c603-4cde-8f07-a27200e676c0","target":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","targetPort":"aa60e92d-ba75-4104-a30b-deab2b957909","points":[{"id":"0e5ec4ef-c2cd-4d76-a691-2e53daddf6d8","type":"point","x":290.5,"y":425.5},{"id":"e43f53de-5fc1-4b04-a0f7-1a396a311de4","type":"point","x":404.5,"y":444.33331298828125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"25a85223-08c6-4b66-8e2a-6ba7642fd580":{"id":"25a85223-08c6-4b66-8e2a-6ba7642fd580","type":"default","selected":false,"source":"301136c2-97fb-4690-b8e1-d564c09705a1","sourcePort":"78fd960e-8020-4449-a069-4aabd03ccd9d","target":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","targetPort":"df30fa9e-733d-4a1e-851e-d2d33933d883","points":[{"id":"27dcc540-fb1c-47c1-9811-57c59f9ec5d4","type":"point","x":301.5,"y":650.5},{"id":"260874a4-50be-4bc0-b810-6c7ddc1e1718","type":"point","x":404.5,"y":645.6666870117188}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"a731f834-7bdc-4bf0-99d5-8e64d2f06d40","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"831d377a-28b2-48a7-8791-0fd03e4f318f":{"id":"831d377a-28b2-48a7-8791-0fd03e4f318f","type":"basic.input","selected":false,"x":197,"y":399,"ports":[{"id":"536fc3fc-c603-4cde-8f07-a27200e676c0","type":"port.output","x":283,"y":418,"name":"input-out","alignment":"right","parentNode":"831d377a-28b2-48a7-8791-0fd03e4f318f","links":["20e2d302-8b47-41ce-9a77-e8af01edbc4e"],"in":false,"label":"Img","hideLabel":true}],"data":{"name":"Img"}},"301136c2-97fb-4690-b8e1-d564c09705a1":{"id":"301136c2-97fb-4690-b8e1-d564c09705a1","type":"basic.input","selected":false,"x":208,"y":624,"ports":[{"id":"78fd960e-8020-4449-a069-4aabd03ccd9d","type":"port.output","x":294,"y":643,"name":"input-out","alignment":"right","parentNode":"301136c2-97fb-4690-b8e1-d564c09705a1","links":["25a85223-08c6-4b66-8e2a-6ba7642fd580"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"6bcf4a64-d6f1-46be-bd88-966545ee47d8":{"id":"6bcf4a64-d6f1-46be-bd88-966545ee47d8","type":"basic.output","selected":false,"x":1373,"y":508,"ports":[{"id":"7ffa5838-1933-443b-aa61-aba11f7f9396","type":"port.input","x":1374,"y":527,"name":"output-in","alignment":"left","parentNode":"6bcf4a64-d6f1-46be-bd88-966545ee47d8","links":["481bf3ae-7062-449d-90fc-bac2a6b5d63b"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"f31a9d4e-5fb2-44fd-9f99-4552b8663439":{"id":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","type":"basic.code","selected":false,"x":396,"y":193,"ports":[{"id":"aa60e92d-ba75-4104-a30b-deab2b957909","type":"port.input","x":397,"y":436.83331298828125,"name":"Img","alignment":"left","parentNode":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","links":["20e2d302-8b47-41ce-9a77-e8af01edbc4e"],"in":true,"label":"Img","hideLabel":false},{"id":"df30fa9e-733d-4a1e-851e-d2d33933d883","type":"port.input","x":397,"y":638.1666870117188,"name":"Enable","alignment":"left","parentNode":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","links":["25a85223-08c6-4b66-8e2a-6ba7642fd580"],"in":true,"label":"Enable","hideLabel":false},{"id":"5e9ba39a-8590-49f1-a243-850112cecda3","type":"port.output","x":1197.6500244140625,"y":537.5,"name":"Out","alignment":"right","parentNode":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","links":["481bf3ae-7062-449d-90fc-bac2a6b5d63b"],"in":false,"label":"Out","hideLabel":false}],"data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    while(auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n        ret, thresh = cv2.threshold(img_gray, 60, 255, cv2.THRESH_BINARY)\n        contours, hierarchy = cv2.findContours(thresh, 1, 2)\n\n        # Find the biggest contour (if detected)\n        if len(contours) > 0:\n            cont = max(contours, key=cv2.contourArea)\n            rect = cv2.minAreaRect(cont) # Get the minimum area bounding rectangle for the contour\n            # ( center (x,y), (width, height), angle of rotation )\n\n            # Get the moments of the image\n            M = cv2.moments(cont)\n            if M['m00'] != 0:\n                # Get the coords of the center of the moments\n                cx = int(M['m10']/M['m00'])\n                cy = int(M['m01']/M['m00'])\n\n            data = [cx, cy, rect[1][0], rect[1][1], rect[2]]\n            # Send the data to the wire in the form of an array \n            outputs.share_array('Out', data)\n\n        synchronise()\n","frequency":"30","params":[],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"682px","height":"575px"}}}}}]},"version":"3.0","package":{"name":"ContourDetector","version":"2.0.0","description":"Draws Contours in an Image","author":"Toshan Luktuke, Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxnPjxwYXRoIGQ9Im00OTcgMjQxaC0yOS42OGMtNy4zNy0xMDQuODgtOTEuNDQtMTg4Ljk0LTE5Ni4zMi0xOTYuMzJ2LTI5LjY4YzAtOC4yOC02LjcyLTE1LTE1LTE1cy0xNSA2LjcyLTE1IDE1djI5LjY4Yy0xMDQuODggNy4zOC0xODguOTUgOTEuNDQtMTk2LjMyIDE5Ni4zMmgtMjkuNjhjLTguMjggMC0xNSA2LjcyLTE1IDE1IDAgOC4yOSA2LjcyIDE1IDE1IDE1aDI5LjY4YzcuMzcgMTA0Ljg4IDkxLjQ0IDE4OC45NSAxOTYuMzIgMTk2LjMydjI5LjY4YzAgOC4yOSA2LjcyIDE1IDE1IDE1czE1LTYuNzEgMTUtMTV2LTI5LjY4YzEwNC44OC03LjM3IDE4OC45NS05MS40NCAxOTYuMzItMTk2LjMyaDI5LjY4YzguMjggMCAxNS02LjcxIDE1LTE1IDAtOC4yOC02LjcyLTE1LTE1LTE1em0tMjQxIDE5Ni44NGMtMTAwLjI3IDAtMTgxLjg0LTgxLjU3LTE4MS44NC0xODEuODRzODEuNTctMTgxLjg0IDE4MS44NC0xODEuODQgMTgxLjg0IDgxLjU3IDE4MS44NCAxODEuODQtODEuNTcgMTgxLjg0LTE4MS44NCAxODEuODR6IiBmaWxsPSIjNDU0NTU0Ii8+PC9nPjxwYXRoIGQ9Im0zNTUuMTIgMTkzLjkxLTk5LjEyIDE1MC42NS05OS4wOS0xNTAuNjljMS4wOC0xLjcyIDIuNTEtMy4yMyA0LjIyLTQuNGw4Ni43MS01OS40YzIuNDYtMS42OSA1LjMtMi41NyA4LjE2LTIuNjIgMy4wOC0uMDcgNi4xOC44MiA4LjgzIDIuNjVsODYuMDQgNTkuMzdjMS43MiAxLjE4IDMuMTYgMi43IDQuMjUgNC40NHoiIGZpbGw9IiNmZmYxNmIiLz48cGF0aCBkPSJtMzU1LjEyIDE5My45MS05OS4xMiAxNTAuNjV2LTIxNy4xMWMzLjA4LS4wNyA2LjE4LjgyIDguODMgMi42NWw4Ni4wNCA1OS4zN2MxLjcyIDEuMTggMy4xNiAyLjcgNC4yNSA0LjQ0eiIgZmlsbD0iI2ZmZDg0NSIvPjxwYXRoIGQ9Im0yNTYgMjU2IDIwIDYxLjU1Ni0yMCA2Ny4wMDRjLTIuOTcgMC01LjkzLS44OS04LjQ4LTIuNjNsLTg2LjM3LTU5LjE3Yy00LjA4LTIuNzktNi41Mi03LjQyLTYuNTItMTIuMzd2LTEwOC41NmMwLTIuODcuODItNS42MiAyLjI4LTcuOTZ6IiBmaWxsPSIjZmZkODQ1Ii8+PHBhdGggZD0ibTM1Ny4zNyAyMDEuODN2MTA4LjU2YzAgNC45NS0yLjQ0IDkuNTgtNi41MiAxMi4zN2wtODYuMzcgNTkuMTdjLS4wMS4wMS0uMDEuMDEtLjAxLjAxLS40Ny4zMi0uOTYuNjItMS40OC44OS0yLjE5IDEuMTYtNC41OSAxLjczLTYuOTkgMS43M3YtMTI4LjU2bDk5LjA4LTYyLjEzLjA0LjA0YzEuNDQgMi4zMyAyLjI1IDUuMDcgMi4yNSA3LjkyeiIgZmlsbD0iI2ZmYjQ1NCIvPjxwYXRoIGQ9Im01MTIgMjU2YzAgOC4yOS02LjcyIDE1LTE1IDE1aC0yOS42OGMtNy4zNyAxMDQuODgtOTEuNDQgMTg4Ljk1LTE5Ni4zMiAxOTYuMzJ2MjkuNjhjMCA4LjI5LTYuNzIgMTUtMTUgMTV2LTc0LjE2YzEwMC4yNyAwIDE4MS44NC04MS41NyAxODEuODQtMTgxLjg0cy04MS41Ny0xODEuODQtMTgxLjg0LTE4MS44NHYtNzQuMTZjOC4yOCAwIDE1IDYuNzIgMTUgMTV2MjkuNjhjMTA0Ljg4IDcuMzggMTg4Ljk1IDkxLjQ0IDE5Ni4zMiAxOTYuMzJoMjkuNjhjOC4yOCAwIDE1IDYuNzIgMTUgMTV6IiBmaWxsPSIjMmUyZTJlIi8+PC9nPjwvc3ZnPg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"831d377a-28b2-48a7-8791-0fd03e4f318f","type":"basic.input","data":{"name":"Img"},"position":{"x":197,"y":399}},{"id":"301136c2-97fb-4690-b8e1-d564c09705a1","type":"basic.input","data":{"name":"Enable"},"position":{"x":208,"y":624}},{"id":"6bcf4a64-d6f1-46be-bd88-966545ee47d8","type":"basic.output","data":{"name":"Out"},"position":{"x":1373,"y":508}},{"id":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    while(auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n        ret, thresh = cv2.threshold(img_gray, 60, 255, cv2.THRESH_BINARY)\n        contours, hierarchy = cv2.findContours(thresh, 1, 2)\n\n        # Find the biggest contour (if detected)\n        if len(contours) > 0:\n            cont = max(contours, key=cv2.contourArea)\n            rect = cv2.minAreaRect(cont) # Get the minimum area bounding rectangle for the contour\n            # ( center (x,y), (width, height), angle of rotation )\n\n            # Get the moments of the image\n            M = cv2.moments(cont)\n            if M['m00'] != 0:\n                # Get the coords of the center of the moments\n                cx = int(M['m10']/M['m00'])\n                cy = int(M['m01']/M['m00'])\n\n            data = [cx, cy, rect[1][0], rect[1][1], rect[2]]\n            # Send the data to the wire in the form of an array \n            outputs.share_array('Out', data)\n\n        synchronise()\n","frequency":"30","params":[],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"682px","height":"575px"}},"position":{"x":396,"y":193}}],"wires":[{"source":{"block":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","port":"Out","name":"Out"},"target":{"block":"6bcf4a64-d6f1-46be-bd88-966545ee47d8","port":"output-in","name":"output-in"}},{"source":{"block":"831d377a-28b2-48a7-8791-0fd03e4f318f","port":"input-out","name":"Img"},"target":{"block":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","port":"Img","name":"Img"}},{"source":{"block":"301136c2-97fb-4690-b8e1-d564c09705a1","port":"input-out","name":"Enable"},"target":{"block":"f31a9d4e-5fb2-44fd-9f99-4552b8663439","port":"Enable","name":"Enable"}}]}},"dependencies":{}}